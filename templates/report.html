{% extends "base.html" %}
{% include "header.html" %}


{% block title %} Home {% endblock %}

{% block body %} 

<div class="container">
    <div class="row">
        <div class="col md-12">
            <div class="jumbotron p-3 bg-grey ">

                <h2>
                    <b>
                        Report
                    </b> 
                </h2>

                
                    <table class="table table-hover table-dark table-striped" id="example">
                        <thead>
                            <tr>
                                <th> Product </th>
                                <th> Warehouse </th>
                                <th> Quantity </th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for pkey, values in movements.items() %}
                                        {% set count = values|length() %}
                                        <tr>
                                            <td>{{pkey}}</td>
                                            {% for key, value in values.items() %}
                                                <td>{{key}}</td>
                                                <td>{{value.quantity}}</td>
                                                {% if values|length() > 1 %}
                                                    {% if values|last != key %}
                                        </tr>
                                        <tr>
                                            <td>{{pkey}}</td>
                                                {% endif %}
                                                {% endif %}
                                                {% endfor %}
                                        </tr>
                                        {% endfor %}
                        </tbody>
                    </table>
                    <script>
                        $(document).ready(function () {
                        $('#example').DataTable({
                        "searching": false,
                        "blengthChange":false,
                        "paging":false
                                        });
                                        });
                    </script>
                </div>
  
         </div>
     </div>
 </div>

{% endblock %}